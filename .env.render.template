# Environment Variables Template for Render Deployment

# Copy this file and fill in your actual values
# In Render, add these as environment variables for each service

# ==========================================
# REQUIRED ENVIRONMENT VARIABLES
# ==========================================

# Database Configuration
DATABASE_URL=postgresql://username:password@hostname:5432/database_name

# Redis Configuration (Task Queue)
REDIS_URL=redis://hostname:port/0
CELERY_BROKER_URL=redis://hostname:port/0
CELERY_RESULT_BACKEND=redis://hostname:port/0

# Alpaca Trading API (Required)
APCA_API_KEY_ID=your_alpaca_api_key
APCA_API_SECRET_KEY=your_alpaca_secret_key
APCA_API_BASE_URL=https://api.alpaca.markets
ALPACA_DATA_FEED=sip

# Market Data APIs
POLYGON_API_KEY=your_polygon_api_key
TIINGO_API_KEY=your_tiingo_api_key

# Application Path
PYTHONPATH=/app

# ==========================================
# SERVICE-SPECIFIC VARIABLES
# ==========================================

# For Web Service
SERVICE=web
APP_MODE=streamlit
PORT=10000

# For Worker Service
SERVICE=worker
WORKER_TASK=idle

# For Cron Jobs (set via dockerCommand in render.yaml)
SERVICE=cron

# ==========================================
# OPTIONAL CONFIGURATION VARIABLES
# ==========================================

# Portfolio Configuration
ALLOW_SHORTS=false
TOP_N=25
LONG_TOP_N=15
SHORT_TOP_N=10
GROSS_LEVERAGE=1.0
NET_EXPOSURE=
MAX_POSITION_WEIGHT=0.10

# Risk Management
RISK_BUDGET=1000000
MIN_PRICE=1.00
MIN_ADV_USD=25000
SLIPPAGE_BPS=5

# Universe Filtering
MARKET_CAP_MAX=3000000000
ADV_USD_MIN=25000
ADV_LOOKBACK=20
RUSSELL_INDEX=R2000

# Backtest Configuration
BACKTEST_START=2019-01-01
TARGET_HORIZON_DAYS=5

# Model Configuration
PREFERRED_MODEL=blend_v1
BLEND_WEIGHTS=xgb:0.5,rf:0.3,ridge:0.2

# Options Configuration
IV_FALLBACK=0.35

# Advanced Features (Phase 2)
ENABLE_TIMESCALEDB=true
TIMESCALEDB_CHUNK_TIME_INTERVAL=7 days
ENABLE_DATA_VALIDATION=true
DATA_STALENESS_THRESHOLD_HOURS=48
PRICE_ANOMALY_THRESHOLD_SIGMA=5.0
VOLUME_ANOMALY_THRESHOLD_SIGMA=4.0
ENABLE_BITEMPORAL=true

# Walk-Forward Optimization (Phase 3)
WFO_INSAMPLE_YEARS=3
WFO_OOS_MONTHS=6
WFO_EMBARGO_DAYS=5
WFO_N_SPLITS=6
WFO_ENABLE_TUNING=true

# Portfolio Optimization (Phase 4)
USE_MVO=true
MVO_RISK_LAMBDA=25.0
MVO_COST_LAMBDA=5.0
BETA_MIN=-0.10
BETA_MAX=0.10
TURNOVER_LIMIT_ANNUAL=3.0
LIQUIDITY_MAX_PCT_ADV=0.05

# Advanced Execution
ENABLE_CHILD_ORDERS=true
DEFAULT_EXECUTION_SLICES=8
VWAP_LOOKBACK_DAYS=20

# FIX Protocol (Advanced)
ENABLE_FIX_PROTOCOL=false
FIX_HOST=localhost
FIX_PORT=9878
FIX_SENDER_COMP_ID=CLIENT
FIX_TARGET_COMP_ID=BROKER

# MLOps Features
ENABLE_MLFLOW=false
MLFLOW_TRACKING_URI=file:./mlruns

# Logging
LOG_LEVEL=INFO

# ==========================================
# RENDER-SPECIFIC NOTES
# ==========================================

# 1. Set these variables in Render dashboard under each service's environment
# 2. Use "sync: false" in render.yaml for sensitive values
# 3. Database and Redis URLs will be provided by Render when you create those services
# 4. API keys must be obtained from respective providers
# 5. Adjust resource limits based on your Render plan

# ==========================================
# SECURITY NOTES
# ==========================================

# - Never commit actual credentials to version control
# - Use strong, unique passwords for database access
# - Regularly rotate API keys
# - Monitor API usage to avoid unexpected charges
# - Consider using Render's secret management features